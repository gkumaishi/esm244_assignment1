---
title: "Assignment 1 Task 2"
author: "Grace Kumaishi"
date: "1/16/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = FALSE, warning = FALSE)

library(tidyverse)
library(janitor)
library(palmerpenguins)
library(here)

# For PCA:
library(ggfortify)

# For ggplot customization:
library(readxl)
library(gghighlight)
library(lubridate)
library(plotly)
```

### Introduction:
The data included in this analysis was assembled by earth scientist [Zander Venter](https://www.researchgate.net/profile/Zander_Venter). Venter aquired all data through publicly available remote sensing datasets provided by the [Google Earth Engine](https://earthengine.google.com/). Averages were calculated for each country "at a reduction scale of about 10 km", and include measurements such as temperature, rainfall, elevation, and canopy cover. 

### Principal components analysis:

```{r}
# Read in data:

world_env_vars <- read_csv(here("data", "world_env_vars.csv")) %>% 
  clean_names() 
```

```{r}
# Create PCA dataset:

world_env_pca <- world_env_vars %>% 
  select_if(is.numeric) %>% 
  select(-c(ends_with("_quart"))) %>% # remove any column ending in '_quart'
  select(-c(ends_with("_month"))) %>% # remove any column ending in '_month'
  select(-c("accessibility_to_cities", "aspect")) %>% # omit additional 2 columns
  drop_na() %>% 
  scale() %>% 
  prcomp()

world_env_pca$rotation

world_env_complete <- world_env_vars %>% 
  drop_na()
```

### Generate PCA biplot:
```{r}
# Generate PCA plot:

autoplot(world_env_pca,
         data = world_env_complete,
         colour = "country",
         loadings = TRUE, 
         loadings.colour = "gray60",
         loadings.label = TRUE,
         loadings.label.colour = "black",
         loadings.label.vjust = 1,
         show.legend = FALSE)+
  theme_minimal() +
  theme(legend.position = "none") # remove legend
```

**Figure 1**: PCA biplot showing the __ of 188 countries that are not missing data for included components. (Data courtesy of [Zander Venter](https://www.researchgate.net/profile/Zander_Venter))

### Summary:
- Points closer together represent countries that....




